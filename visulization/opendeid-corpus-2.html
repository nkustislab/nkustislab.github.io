<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenDeid Corpus v2</title>
    <!-- Plotly JS Library -->
    <script src="https://cdn.jsdelivr.net/npm/plotly.js-dist@2.18.3/dist/plotly.min.js"></script>
</head>
<body>

    <h1>OpenDeid Corpus v2</h1>

    <!-- Div to hold the Sunburst plot -->
    <div id="sunburst" style="width: 100%; height: 600px;"></div>

    <script>
        window.onload = function () {
            try {
                var dataset = ["Training", "Training", "Dev", "Dev", "Test", "Test",
                 "Training", "Training", "Training", "Training", "Training", "Training", "Training", "Training", "Training", "Training",
                 "Dev", "Dev", "Dev", "Dev", "Dev", "Dev", "Dev", "Dev", "Dev", "Dev",
                 "Test", "Test", "Test", "Test", "Test", "Test", "Test", "Test", "Test", "Test",
                 "Training", "Dev", "Test",
                 "Training", "Training", "Training", "Training", "Dev", "Dev", "Dev", "Dev", "Test", "Test", "Test", "Test",
                 "Training", "Training", "Dev", "Dev", "Test", "Test",
                 "Training", "Training", "Dev", "Dev", "Test", "Test"];

                var main = ["Name", "Name", "Name", "Name", "Name", "Name",
                    "Location", "Location", "Location", "Location", "Location", "Location", "Location", "Location", "Location", "Location",
                    "Location", "Location", "Location", "Location", "Location", "Location", "Location", "Location", "Location", "Location",
                    "Location", "Location", "Location", "Location", "Location", "Location", "Location", "Location", "Location", "Location",
                    "Age", "Age", "Age",
                    "Date", "Date", "Date", "Date", "Date", "Date", "Date", "Date", "Date", "Date", "Date", "Date",
                    "Contact", "Contact", "Contact", "Contact", "Contact", "Contact", "ID", "ID", "ID", "ID", "ID", "ID"];

                var sub = ["Patient", "Doctor", "Patient", "Doctor", "Patient", "Doctor",
                    "Room", "Department", "Hospital", "Organization", "Street", "City", "State", "Country", "Zip", "Other",
                    "Room", "Department", "Hospital", "Organization", "Street", "City", "State", "Country", "Zip", "Other",
                    "Room", "Department", "Hospital", "Organization", "Street", "City", "State", "Country", "Zip", "Other",
                    null, null, null,
                    "Date", "Time", "Duration", "Set", "Date", "Time", "Duration", "Set", "Date", "Time", "Duration", "Set",
                    "Phone", "URL", "Phone", "URL", "Phone", "URL",
                    "Medical Record", "IDNum", "Medical Record", "IDNum", "Medical Record", "IDNum"];

                var value = [1819, 6541, 545, 2191, 716, 3327,
                    1, 1025, 1801, 135, 899, 939, 875, 3, 913, 6,
                    0, 366, 593, 24, 321, 337, 310, 2, 325, 4,
                    0, 419, 1198, 74, 344, 373, 332, 0, 353, 6,
                    127, 57, 51,
                    4753, 1119, 23, 14, 1622, 420, 6, 0, 2459, 470, 12, 5,
                    9, 3, 2, 4, 1, 3,
                    1824, 3677, 563, 1177, 747, 2120];

                var color_map = [
                    "rgba(255, 0, 0, 0.3)", "rgba(255, 85, 0, 0.3)", "rgba(255, 170, 0, 0.3)", 
                    "rgba(255, 255, 0, 0.3)", "rgba(170, 255, 0, 0.3)", "rgba(85, 255, 0, 0.3)", 
                    "rgba(0, 255, 0, 0.3)", "rgba(0, 255, 85, 0.3)", "rgba(0, 255, 170, 0.3)",
                    "rgba(0, 255, 255, 0.3)", "rgba(0, 170, 255, 0.3)", "rgba(0, 85, 255, 0.3)",
                    "rgba(0, 0, 255, 0.3)", "rgba(85, 0, 255, 0.3)", "rgba(170, 0, 255, 0.3)", 
                    "rgba(255, 0, 255, 0.3)"
                ];

                var data = [{
                    type: "sunburst",
                    labels: dataset,
                    parents: main,
                    values: value,
                    hoverinfo: "label+value+percent entry",
                    marker: {
                        colors: color_map
                    }
                }];

                var layout = {
                    title: "OpenDeid Corpus v2",
                    margin: { t: 50, r: 50, b: 50, l: 50 },
                    sunburstcolorway: ["#636EFA", "#EF553B", "#00CC96", "#AB63FA", "#FFA15C", "#19D3F3", "#FF6692", "#B6E880", "#FF97FF", "#F0B001"]
                };

                Plotly.newPlot("sunburst", data, layout);
            } catch (error) {
                console.error("Error rendering the plot: ", error);
            }
        };
    </script>

</body>
</html>
